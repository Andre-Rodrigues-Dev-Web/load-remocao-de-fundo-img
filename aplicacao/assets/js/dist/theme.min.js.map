{"version":3,"sources":["theme.js"],"names":["imageDataUrl","event","file","target","files","handleFile","document","previewImg","getElementById","loadingText","size","loadingBar","style","display","reader","onload","e","setTimeout","readAsDataURL","FileReader","result","removeBackground","alert","Image","img","src","canvas","createElement","ctx","width","height","imageData","data","i","length","putImageData","toDataURL","transparentImg"],"mappings":"aAAA,IAAIA,aAAe,GAAfA,WAAe,SAAAC,GAGjB,IAAMC,EAAOD,EAAME,OAAOC,MAAM,GAD5BC,EAAaC,SAAbD,eAAwB,cACtBH,EAAaC,SAAOC,eAA1B,cACMG,EAAaD,SAASE,eAAe,eAE3C,GAAMC,EAGJ,GAAgB,OAAZP,EAAKQ,KAAmB,CAA5BC,EAAIC,MAAYC,QAAY,QAC1BJ,EAAAG,MAAAC,QAAA,QAEAJ,IAAAA,EAAYG,IAAMC,WAIlBC,EAAOC,OAAS,SAAUC,GAA1BF,aAAgBE,EAAAb,OAAUa,OACxBhB,EAAAA,IAAiBG,aAIjBc,WAAW,WAAXA,EAAWL,MAAAC,QAAM,OACfF,EAAWC,MAAMC,QAAU,QAC3BJ,MAIJK,EAAOI,cAAchB,OAArBY,CAEA,IAAAA,EAAA,IAAAK,WACAL,EAAMA,OAAS,SAAIK,GAEjBnB,aAAegB,EAAEb,OAAOiB,OAD1BN,EAAOC,IAASf,cAIhBc,EAAOI,cAAchB,KACtBmB,iBAAA,WACF,GAAArB,aAAA,CAKCsB,IAAAA,EAAM,IAAAC,MACNC,EAAAC,IAAAzB,aAMFwB,EAAIT,OAAS,WAHb,IAASW,EAAOH,SAAhBI,cAAA,UACAC,EAAU5B,EAAAA,WAAV,MAKE0B,EAAOG,MAAQL,EAAIK,MAHrBL,EAAIT,OAASS,EAAAM,OACXF,EAAMF,UAASpB,EAAAA,EAASqB,GAOxB,IALAD,IAAMK,EAAYH,EAACC,aAAnB,EAAA,EAAAH,EAAAG,MAAAH,EAAAI,QACME,EAAND,EAAoBD,KAIVG,EAAGF,EAAAA,EAASC,EAAtBE,OAEAD,GAAA,EAEgB,IAAVD,EAAKC,IAA0B,IAAdD,EAAKC,EAAI,IAA0B,IAAdD,EAAKC,EAAI,KAAnDD,EAAIA,EAAA,GAAU,GAIfJ,EAAAO,aAAAJ,EAAA,EAAA,GAEDH,IAAIO,EAAaJ,EAAjBK,UAAA,aAEA9B,SAAM+B,eAAiBX,cAAiBD,IAAAY,EAIxC,IAAM1B,EAAaL,SAASE,eAAe,cACrCC,EAAcH,SAASE,eAAe,eAC5CG,EAAWC,MAAMC,QAAU,OAC3BJ,EAAYG,MAAMC,QAAU,aA1EhCS,MAAA","file":"theme.min.js","sourcesContent":["let imageDataUrl = \"\"; // Armazenar o URL da imagem\r\n\r\nconst handleFile = (event) => {\r\n  const file = event.target.files[0];\r\n  const previewImg = document.getElementById(\"previewImg\");\r\n  const loadingBar = document.getElementById(\"loadingBar\");\r\n  const loadingText = document.getElementById(\"loadingText\");\r\n\r\n  if (file) {\r\n    if (file.size > 100 * 1024) {\r\n      // Verifica se o arquivo é maior que 100 KB\r\n      loadingBar.style.display = \"block\";\r\n      loadingText.style.display = \"block\";\r\n\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = function (e) {\r\n        imageDataUrl = e.target.result; // Armazenar o URL da imagem\r\n        previewImg.src = imageDataUrl;\r\n\r\n        // Exibir a barra de progresso por 10 segundos\r\n        setTimeout(() => {\r\n          loadingBar.style.display = \"none\";\r\n          loadingText.style.display = \"none\";\r\n        }, 10000); // 10 segundos\r\n      };\r\n\r\n      reader.readAsDataURL(file);\r\n    } else {\r\n      // Se o arquivo for menor ou igual a 100 KB, mostra a imagem diretamente\r\n      const reader = new FileReader();\r\n      reader.onload = function (e) {\r\n        imageDataUrl = e.target.result; // Armazenar o URL da imagem\r\n        previewImg.src = imageDataUrl;\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n}\r\n\r\nconst removeBackground = () => {\r\n  if (!imageDataUrl) {\r\n    alert(\"Por favor, carregue uma imagem primeiro.\");\r\n    return;\r\n  }\r\n\r\n  const img = new Image();\r\n  img.src = imageDataUrl;\r\n\r\n  img.onload = function () {\r\n    const canvas = document.createElement(\"canvas\");\r\n    const ctx = canvas.getContext(\"2d\");\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n    ctx.drawImage(img, 0, 0);\r\n\r\n    const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n    const data = imageData.data;\r\n\r\n    // Remover o fundo (por exemplo, tornando a cor branca transparente)\r\n    for (let i = 0; i < data.length; i += 4) {\r\n      if (data[i] > 200 && data[i + 1] > 200 && data[i + 2] > 200) {\r\n        // Detecta cor branca\r\n        data[i + 3] = 0; // Alpha para 0 (transparente)\r\n      }\r\n    }\r\n\r\n    ctx.putImageData(imageData, 0, 0);\r\n\r\n    const transparentImg = canvas.toDataURL(\"image/png\");\r\n    document.getElementById(\"previewImg\").src = transparentImg;\r\n\r\n    // Esconder a barra de carregamento após processar a imagem\r\n    const loadingBar = document.getElementById(\"loadingBar\");\r\n    const loadingText = document.getElementById(\"loadingText\");\r\n    loadingBar.style.display = \"none\";\r\n    loadingText.style.display = \"none\";\r\n  };\r\n}\r\n"]}